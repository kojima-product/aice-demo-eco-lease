# LLM API 料金見積もり

このドキュメントでは、見積生成デモシステムにおけるLLM API利用料金の目安を記載します。

---

## 基本料金（Claude Sonnet 4）

| 項目 | USD | JPY（1USD=150円） |
|------|-----|-------------------|
| 入力トークン | $3.00 / 1Mトークン | ¥0.45 / 1,000トークン |
| 出力トークン | $15.00 / 1Mトークン | ¥2.25 / 1,000トークン |

> **参考**: 日本語テキストは1文字あたり約0.3〜0.5トークンに相当します。

---

## 1. 見積書作成

### 1.1 AI自動生成モード（推奨）

仕様書PDFから、AIが建築設備の専門知識を使って詳細な見積項目を自動生成します。

| 処理内容 | 入力トークン | 出力トークン | 料金目安 |
|----------|-------------|-------------|----------|
| 建物情報抽出 | ~15,000 | ~2,000 | ¥11 |
| 詳細項目生成（ガス設備） | ~8,000 | ~8,000 | ¥22 |
| 詳細項目生成（電気設備） | ~8,000 | ~12,000 | ¥31 |
| 詳細項目生成（機械設備） | ~8,000 | ~12,000 | ¥31 |
| **合計（3工事区分）** | **~47,000** | **~34,000** | **¥95** |

**1件あたりの目安**: ¥80〜120

### 1.2 参照見積ベースモード

過去の見積書をテンプレートとして使用し、項目・単価をそのまま適用します。

| 処理内容 | 入力トークン | 出力トークン | 料金目安 |
|----------|-------------|-------------|----------|
| プロジェクト情報抽出 | ~10,000 | ~500 | ¥6 |
| 参照PDF抽出（ガス設備） | ~20,000 | ~6,000 | ¥23 |
| 参照PDF抽出（電気・機械） | ~20,000 | ~10,000 | ¥32 |
| **合計（3工事区分）** | **~50,000** | **~16,500** | **¥61** |

**1件あたりの目安**: ¥50〜80

### 1.3 モード別比較

| モード | 特徴 | 料金目安 | 推奨用途 |
|--------|------|----------|----------|
| AI自動生成 | 仕様書のみで詳細項目を生成 | ¥80〜120 | 新規案件、参照見積がない場合 |
| 参照ベース | 過去見積をテンプレート使用 | ¥50〜80 | 類似案件がある場合 |

---

## 2. ナレッジベース化

### 2.1 単価データベース（見積書PDF → KB）

過去の見積書から単価情報を抽出してデータベース化します。

| PDFサイズ | ページ数目安 | 入力トークン | 出力トークン | 料金目安 |
|-----------|-------------|-------------|-------------|----------|
| 小規模 | ~10ページ | ~15,000 | ~3,000 | ¥14 |
| 中規模 | ~30ページ | ~40,000 | ~5,000 | ¥29 |
| 大規模 | ~100ページ | ~60,000 | ~8,000 | ¥45 |

**1ファイルあたりの目安**: ¥15〜50

### 2.2 法令データベース（法令PDF → KB）

関係法令一覧から法令情報を抽出してデータベース化します。

| ファイル種類 | 入力トークン | 出力トークン | 料金目安 |
|-------------|-------------|-------------|----------|
| 関係法令一覧PDF | ~25,000 | ~5,000 | ¥23 |

**1ファイルあたりの目安**: ¥20〜30

### 2.3 OCR処理（スキャンPDF）

テキストが抽出できないスキャンPDFの場合、OCR処理が追加されます。

| 処理 | 追加料金目安 |
|------|-------------|
| 1ページあたり | +¥3〜5 |
| 10ページのOCR | +¥30〜50 |
| 30ページのOCR | +¥90〜150 |

---

## 3. 料金サマリー

### 操作別料金一覧

| 操作 | 1回あたりの料金目安 |
|------|-------------------|
| 見積書作成（AI自動・3工事区分） | ¥80〜120 |
| 見積書作成（参照ベース・3工事区分） | ¥50〜80 |
| 見積書作成（1工事区分のみ） | ¥30〜50 |
| 単価KB化（1ファイル） | ¥15〜50 |
| 法令KB化（1ファイル） | ¥20〜30 |
| メール情報抽出 | ¥3〜5 |

### 月間利用コスト目安

| 利用規模 | 見積作成 | KB化 | 月間コスト目安 |
|---------|---------|------|---------------|
| 小規模 | 10件/月 | 5件/月 | ¥1,000〜1,500 |
| 中規模 | 30件/月 | 10件/月 | ¥3,000〜4,500 |
| 大規模 | 100件/月 | 20件/月 | ¥10,000〜15,000 |

---

## 4. コスト最適化のヒント

### 4.1 見積作成

1. **参照見積ベースモードを活用**
   - 類似案件がある場合は参照ベースモードを使用（約30%コスト削減）

2. **工事区分を絞る**
   - 必要な工事区分のみを選択（1区分なら約1/3のコスト）

3. **KB充実でマッチング率向上**
   - 単価KBを充実させると、後続処理が効率化

### 4.2 KB構築

1. **テキストPDFを優先**
   - スキャンPDFよりテキストPDFの方がOCR不要で低コスト

2. **まとめてアップロード**
   - 複数ファイルを一度に処理する方が効率的

3. **定期的な更新**
   - 新しい見積書を定期的に追加してKBを維持

---

## 5. 実際のコスト確認

システム内の「利用状況」ページで、実際のAPI利用コストを確認できます。

- **サマリータブ**: 累計コスト、操作別・日別集計
- **履歴詳細タブ**: 個別のAPI呼び出し履歴
- **データエクスポート**: JSON形式で履歴をダウンロード

---

## 6. 注意事項

- 料金は目安であり、実際のコストはPDFの内容や抽出項目数により変動します
- 為替レートは1USD=150円で計算（変動あり）
- Claude API料金は2024年時点のものであり、変更される可能性があります
- OCR処理が必要な場合は追加コストが発生します

---

*最終更新: 2025年11月*
